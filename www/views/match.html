
<ion-view class="page match-view" ng-if="(match && !matchErrorMessage) || (!match && matchErrorMessage)">
  <ion-content>
    <div class="match-found" ng-if="match && !matchErrorMessage">

      <h2 class="match-title">
        <i class="icon ion-checkmark"></i>
        We can fight your ticket!
      </h2>
      <h4 class="match-subtitle ng-binding">We were able to match you with one of the top-rated traffic attorneys in {{currentCase.lawfirmCity}}.</h4>

      <div class="match-details-row" ng-click="viewRefundPolicy()">
        <h2 ng-class="currentCase.refund.isEligible ? 'match-odds-value text-lima' : 'match-odds-value text-rausch'">
          {{currentCase.refund.isEligible | yesNo}}
        </h2>
        <h3 class="match-odds-text">Eligible for a refund:</h3>
        <div ng-class="currentCase.refund.isEligible ? 'match-note text-lima' : 'match-note'">
          {{currentCase.refund.uiReasonMsg}}
        </div>
      </div>
      <div class="match-details-row">
        <h2 class="match-odds-value text-lima">{{currentCase.chanceOfSuccess}}%</h2>
        <h3 class="match-odds-text">Your chance of success:</h3>
        <div class="match-note">Based on historical performance</div>
      </div>
      <div class="match-details-row">
        <h2 class="match-cost-value ng-binding">${{currentCase.estimatedCost}}</h2>
        <h3 class="match-cost-text">Your cost:</h3>
        <div class="match-note">This includes your legal fee and all service charges</div>
      </div>
      <div class="match-details-row">
        <h2 class="match-insurance-value ng-binding">$540
          <div>+ ticket fine</div>
        </h2>
        <h3 class="match-insurance-text">Cost of not fighting your ticket:</h3>
        <div class="match-note">Estimate based on average insurance premium increase over 3 years</div>
      </div>

      <div class="included-title">What's included?</div>
      <ion-slide-box does-continue="true">
        <ion-slide><div class="slide-box-card">Legal representation to contest your ticket in court.</div></ion-slide>
        <ion-slide><div class="slide-box-card">No hidden fees. Cancel anytime within 24 hours.</div></ion-slide>
        <ion-slide><div class="slide-box-card">Full refund if your ticket is not dismissed, deferred, or reduced to a non-moving violation.
          <a ng-click="viewRefundPolicy()">Read our money-back guarantee</a>.</div></ion-slide>
        <ion-slide><div class="slide-box-card">Stress-free experience. No need to mail in your ticket. No need to show up in court.</div></ion-slide>
        <ion-slide><div class="slide-box-card">Peace of mind. We handle everything from here.</div></ion-slide>
      </ion-slide-box>

      <div class="phone-info">
        <div class="phone-text">Questions? Call us!</div>
        <div class="phone-value">
          <i class="icon ion-ios-telephone"></i>
          <div>1 (844) OTR-2-WIN</div>
        </div>
      </div>

      <button class="big-blue-button confirm-match-button" ng-click="confirmMatch()">
        Fight My Ticket
      </button>
    </div>

    <div class="no-match-found" ng-if="!match && matchErrorMessage">
      <h2>Sorry...</h2>
      <h4>Looks like we don't have any attorneys fighting in this court.</h4>
      <br>
      <h4>We're working hard to expand quickly. Please request your area to make sure we're there next time!</h4>
      <br>
      <button class="request-coverage-button big-blue-button" ng-click="requestMyArea()">Request my area</button>
      <button class="cancel" ng-click="goBack()">Cancel</button>
    </div>

    <div style="height: 110px;"></div>
  </ion-content>
</ion-view>
